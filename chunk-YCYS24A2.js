import{a as x,c as S,d as v,e as L,f as P,g as E,m as I,o as N}from"./chunk-TYUWL7TT.js";import{a as k}from"./chunk-WA67IRQH.js";import{B as m,C as u,G as f,L as b,M as e,N as t,Q as h,R as _,U as a,V as y,W as d,X as c,Y as g,ga as C,ha as M,oa as w,z as s}from"./chunk-FVBHV7GW.js";function F(l,o){if(l&1&&(e(0,"p",9),a(1),t()),l&2){let n=_();s(),y(n.error)}}var O=class l{constructor(o,n){this.router=o;this.auth=n}email="";password="";error="";async onLogin(){try{console.log("Intentando iniciar sesi\xF3n con:",this.email);let o=await this.auth.login(this.email,this.password);console.log("Login exitoso:",o.user),this.router.navigate(["/home"])}catch(o){this.error="Login failed. Please check your credentials.",console.error("Error de login:",o.code,o.message)}}static \u0275fac=function(n){return new(n||l)(m(w),m(k))};static \u0275cmp=u({type:l,selectors:[["app-login"]],decls:16,vars:3,consts:[[1,"contenedor"],[1,"tarjeta"],[3,"ngSubmit"],["for","email"],["type","text","id","email","name","email","required","",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","required","",3,"ngModelChange","ngModel"],["type","submit"],["style","color: red;",4,"ngIf"],[2,"color","red"]],template:function(n,i){n&1&&(e(0,"div",0)(1,"h1"),a(2,"CineCritico"),t(),e(3,"div",1)(4,"h2"),a(5,"Iniciar sesi\xF3n"),t(),e(6,"form",2),h("ngSubmit",function(){return i.onLogin()}),e(7,"label",3),a(8,"Nombre de usuario:"),t(),e(9,"input",4),g("ngModelChange",function(r){return c(i.email,r)||(i.email=r),r}),t(),e(10,"label",5),a(11,"Contrase\xF1a:"),t(),e(12,"input",6),g("ngModelChange",function(r){return c(i.password,r)||(i.password=r),r}),t(),e(13,"button",7),a(14,"Iniciar sesi\xF3n"),t(),f(15,F,2,1,"p",8),t()()()),n&2&&(s(9),d("ngModel",i.email),s(3),d("ngModel",i.password),s(3),b("ngIf",i.error))},dependencies:[M,C,N,E,x,S,v,I,P,L],styles:["h1[_ngcontent-%COMP%]{text-align:center;color:#0d47a1;font-size:4rem}h2[_ngcontent-%COMP%]{font-size:3rem;text-align:center;margin-bottom:2rem;color:#bbdefb}label[_ngcontent-%COMP%]{display:block;font-size:2rem;font-weight:700;color:#bbdefb;margin-bottom:.5rem;letter-spacing:.5px;text-align:center}button[_ngcontent-%COMP%]{display:block;margin:0 auto;background-color:#000;color:#fff;border-color:#fff;padding:.75rem 1.5rem;font-size:1rem;border-radius:8px;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]:hover{background-color:#333}input[_ngcontent-%COMP%]{display:block;width:90%;height:25px;margin:0 auto;margin-bottom:1rem;border-radius:4px}.tarjeta[_ngcontent-%COMP%]{background-color:#0d47a1;border-radius:12px;width:80%;max-width:400px;margin:0 auto;display:flex;flex-direction:column}"]})};export{O as Login};
